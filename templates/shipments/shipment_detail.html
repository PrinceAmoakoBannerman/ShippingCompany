{% extends 'base.html' %}

{% block title %}Shipment {{ shipment.bl_number }} - ShipTrack Pro{% endblock %}

{% block content %}

<style>
</style>
<style>
/* Restore card hover effect for ETA and recent arrivals cards */
.card {
        transition: box-shadow 0.2s, transform 0.2s;
}
.card:hover {
        box-shadow: 0 8px 32px rgba(0,0,0,0.16);
        transform: translateY(-4px) scale(1.02);
        z-index: 2;
}
</style>
</style>

<div class="container py-4">
        <!-- Header -->
        <div class="shipment-header-dhl mb-0">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/DHL_Logo.svg/2560px-DHL_Logo.svg.png" class="logo" alt="DHL Logo">
                <div>
                        <div class="shipment-status-dhl">
                                {% if shipment.gate_out_date %}Successful delivery{% elif shipment.is_overdue %}Overdue{% else %}In Transit{% endif %}
                        </div>
                        <div class="text-dark small">{{ shipment.updated_at|date:"l, j F Y \a\t H:i" }} (UTC)</div>
                </div>
        </div>

        <!-- Summary -->
        <div class="shipment-summary-dhl">
                <div class="row">
                        <div class="col-12 col-md-6 mb-3 mb-md-0">
                                <div class="summary-label">Origin :</div>
                                <div class="fw-bold">{{ shipment.origin|default:"N/A" }}</div>
                                <div class="summary-label mt-2">Destination :</div>
                                <div class="fw-bold">{{ shipment.destination|default:"N/A" }}</div>
                        </div>
                        <div class="col-12 col-md-6">
                                <div class="summary-label">Estimated Time of Arrival</div>
                                <div class="eta">{{ shipment.eta|date:"j F Y" }}</div>
                                <div class="summary-label mt-2">Further Detail</div>
                                <div class="fw-bold">{% if shipment.gate_out_date %}Delivered to address{% else %}In transit{% endif %}</div>
                        </div>
                </div>
        </div>

        <!-- More Shipment Details (collapsible) -->
        <div class="shipment-details-dhl mb-4">
                <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="fw-bold">More Shipment Details</div>
                        <!-- You can add a collapse/expand icon here if you want JS toggle -->
                </div>
                <div class="details-row">
                        <div class="details-label">BL Number</div>
                        <div class="details-value">{{ shipment.bl_number }}</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Container Number</div>
                        <div class="details-value">{{ shipment.container_no }}</div>
                </div>
                {% if shipment.chassis_no %}
                <div class="details-row">
                        <div class="details-label">Chassis Number</div>
                        <div class="details-value">{{ shipment.chassis_no }}</div>
                </div>
                {% endif %}
                <div class="details-row">
                        <div class="details-label">Shipping Line</div>
                        <div class="details-value">{{ shipment.shipping_line }}</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Consignee</div>
                        <div class="details-value">{{ shipment.consignee }}</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Shipper</div>
                        <div class="details-value">{{ shipment.shipper }}</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Total Pieces</div>
                        <div class="details-value">{{ shipment.item_quantity|default:"N/A" }}</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Weight</div>
                        <div class="details-value">{{ shipment.weight|default:"N/A" }} kg</div>
                </div>
                <div class="details-row">
                        <div class="details-label">Service</div>
                        <div class="details-value">{{ shipment.service|default:"Standard" }}</div>
                </div>
        </div>

        <!-- Timeline -->
        <div class="timeline-dhl">
                <!-- Example events, replace with your dynamic events if available -->
                <div class="event">
                        <div class="event-dot success"><i class="fas fa-check"></i></div>
                        <div class="event-date">{{ shipment.gate_out_date|date:"l, j F Y" }}</div>
                        <div class="event-title text-success">{% if shipment.gate_out_date %}Successful delivery{% else %}In Transit{% endif %}</div>
                        <div class="event-location">{{ shipment.destination|default:"Destination" }}</div>
                </div>
                <div class="event">
                        <div class="event-dot"><i class="fas fa-truck"></i></div>
                        <div class="event-date">{{ shipment.eta|date:"l, j F Y" }}</div>
                        <div class="event-title">Estimated Time of Arrival</div>
                        <div class="event-location">{{ shipment.destination|default:"Destination" }}</div>
                </div>
                <!-- Add more events as needed -->
        </div>
</div>
{% endblock %}